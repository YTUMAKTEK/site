<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0"/>
<title>Organization Hub</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{width:100%;height:100%;overflow:hidden;background:#fff}
body{font-family:'DM Mono',monospace}
#root{width:100%;height:100%}
::-webkit-scrollbar{display:none}
.ps{overflow-y:auto;scrollbar-width:none}
.ps::-webkit-scrollbar{display:none}
@keyframes popIn{
  0%{opacity:0;transform:scale(0.3)}
  60%{transform:scale(1.08)}
  100%{opacity:1;transform:scale(1)}
}
@keyframes ttFade{
  from{opacity:0;transform:translateX(-50%) translateY(calc(-100% + 8px))}
  to{opacity:1;transform:translateX(-50%) translateY(-100%)}
}
@keyframes panelIn{
  from{transform:translateX(100%)}
  to{transform:translateX(0)}
}
@keyframes panelOut{
  from{transform:translateX(0)}
  to{transform:translateX(100%)}
}
@keyframes contentIn{
  from{opacity:0;transform:translateY(22px)}
  to{opacity:1;transform:translateY(0)}
}
@keyframes heroIn{
  from{opacity:0;transform:scale(0.4)}
  to{opacity:1;transform:scale(1)}
}
@keyframes fadeBack{
  from{opacity:1}
  to{opacity:0.22}
}
</style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>
/* ════════════════════════════════════════════════════════════
   MAKTEK— Interactive Canvas
   Pure React (no Framer Motion CDN needed), custom physics,
   shared-element-style transition, zoom control.
═══════════════════════════════════════════════════════════════ */
const {useState,useEffect,useRef,useCallback,useMemo}=React;

/* ── Palette ─────────────────────────────────────────────── */
const C={bg:'#FFFFFF',navy:'#0C2C47',mauve:'#D6C9C5',yellow:'#DA9B2B',green:'#2E5749',orange:'#BF512C',mint:'#ABCBCA'};
const GROUPS={
  org:    {label:'Organizasyon',color:C.yellow,  text:C.navy},
  general:{label:'MAK-TEK',     color:C.mauve, text:C.navy},
  racing: {label:'YTÜ Racing',      color:C.navy,text:'#fff'},
  astrid: {label:'Astrid Otonom',      color:C.green, text:'#fff'},
  sigma:  {label:'Sigma Aeronautics',       color:C.orange,text:'#fff'},
  rocket: {label:'Yıldız Roket',      color:C.mint,  text:C.navy},
};

/* ── Heroicons SVG paths ─────────────────────────────────── */
const P={
  grid:    `<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 018.25 20.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"/>`,
  chart:   `<path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"/>`,
  calendar:`<path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"/>`,
  trophy:  `<path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 01-.982-3.172M9.497 14.25a7.454 7.454 0 00.981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 007.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 002.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 012.916.52 6.003 6.003 0 01-5.395 4.972m0 0a6.726 6.726 0 01-2.749 1.35m0 0a6.772 6.772 0 01-3.044 0"/>`,
  users:   `<path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"/>`,
  mail:    `<path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"/>`,
  phone:   `<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/>`,
  heart:   `<path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"/>`,
  star:    `<path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"/>`,
  bolt:    `<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/>`,
  cog:     `<path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"/>`,
  map:     `<path stroke-linecap="round" stroke-linejoin="round" d="M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0z"/>`,
  info:    `<path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"/>`,
  building:`<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"/>`,
  car:     `<path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"/>`,
  rocket:  `<path stroke-linecap="round" stroke-linejoin="round" d="M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/>`,
  plane:   `<path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"/>`,
  flag:    `<path stroke-linecap="round" stroke-linejoin="round" d="M3 3v1.5M3 21v-6m0 0l2.77-.693a9 9 0 016.208.682l.108.054a9 9 0 006.086.71l3.114-.732a48.524 48.524 0 01-.005-10.499l-3.11.732a9 9 0 01-6.085-.711l-.108-.054a9 9 0 00-6.208-.682L3 4.5M3 15V4.5"/>`,
  wrench:  `<path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"/>`,
  beaker:  `<path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"/>`,
};

function SVGIcon({name,size,color}){
  return React.createElement('div',{
    style:{display:'flex',alignItems:'center',justifyContent:'center',pointerEvents:'none',flexShrink:0},
    dangerouslySetInnerHTML:{__html:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="${color||'#fff'}" width="${size}" height="${size}">${P[name]||P.info}</svg>`}
  });
}
// ADD this new function right after SVGIcon:
function ImgIcon({src, size}){
  return React.createElement('img',{
    src: src,
    width: size,
    height: size,
    style:{objectFit:'contain', pointerEvents:'none', flexShrink:0}
  });
}
function FAIcon({name,size,color}){
  return React.createElement('i',{
    className:name,
    style:{fontSize:size*0.75,color:color,pointerEvents:'none',flexShrink:0}
  });
}
/* ── Node Definitions ────────────────────────────────────── */
const RAW=[
  {id:"org-bem",         label:"BEMDays",                   group:"org",    icon:"chart",    r:46, photo:"photos/bem.jpg",},
  {id:"org-datathon",    label:"Datathon",               group:"org",    icon:"grid",   r:56, photo:"photos/datathon.jpg", fa:"fa-solid fa-code"},
  {id:"org-auto-evo",    label:"Otomobilin Evrimi",   group:"org",    icon:"grid",     r:64, photo:"photos/otomobilinevrimi.JPG",  fa:"fa-solid fa-car"},
  {id:"org-defense",     label:"Savunma Sanayi Günleri",  group:"org",    icon:"grid",    r:50, photo:"photos/ssg.jpg", fa:"fa-solid fa-industry"},
  {id:"org-ces",         label:"CES Ekibi",                    group:"org",    img:"icons/ces.png",    r:42, photo:"photos/ces.png", },
  {id:"org-tubitak",     label:"TÜBİTAK Projeleri",       group:"org",    icon:"beaker",  r:54, photo:"photos/org-tubitak.jpg",},
  {id:"org-members",     label:"Organizasyon Üyeleri",            group:"org",    icon:"users",   r:48, photo:"photos/maktekorg.jpg",},
  {id:"org-sponsors",    label:"Sponsor Listesi",           group:"org",    icon:"star",    r:44, photo:"photos/org-sponsor.JPG",},
  {id:"org-side",        label:"Yan Projeler",          group:"org",    icon:"wrench",  r:46, photo:"photos/org-side.jpeg",},
  {id:"org-schema",      label:"Organizasyon Ekibi Şeması",             group:"org",    icon:"grid",r:60, photo:"photos/orgschema.jpg", fa:"fa-solid fa-list"},
  {id:"gen-vision",      label:"Vizyon & Misyon",       group:"general",img:"icons/mak-tek.png",    r:62, iconScale:1.4, panelIconScale:1.7, photo:"photos/vizyonmisyon.jpg",},
  {id:"gen-members",       label:"Yönetim Kurulu Üyeleri",          group:"general",icon:"users",   r:52},
  {id:"gen-ins",    label:"Danışman Öğretmenlerimiz",group:"general",icon:"grid",    r:46, photo:"photos/hoca.jpeg", fa:"fa-solid fa-graduation-cap"},
  {id:"gen-contact",     label:"Bize Ulaşın",             group:"general",icon:"phone",   r:44, photo:"photos/gen-contact.JPG",},
  {id:"gen-comm",        label:"Bize Bir Geridönüş Bırakın",          group:"general",icon:"mail",    r:50, photo:"photos/gen-comm.JPG",},
  {id:"gen-thanks",      label:"Teşekkür Ederiz!",              group:"general",icon:"heart",   r:42, photo:"photos/gen-thanks.JPG",},
  {id:"racing-members",  label:"YTÜ Racing Üyeleri",         group:"racing", icon:"users",   r:52, photo:"photos/racingmembers.jpg",},
  {id:"racing-project", label:"YTÜ Racing Takımı", group:"racing", img:"icons/racing.png", r:66, iconScale:1.7, panelIconScale:1.7, photo:"photos/racingproject.jpg",},
  {id:"racing-sponsors", label:"YTÜ Racing Sponsorları",        group:"racing", icon:"star",    r:44,photo:"photos/racingsponsor.jpg",},
  {id:"racing-contact",  label:"YTÜ Racing ile İletişime Geçin",         group:"racing", icon:"phone",    r:46,photo:"photos/racingcontact.jpg",},
  {id:"racing-org",      label:"YTÜ Racing Organizasyon Şeması",             group:"racing", icon:"grid",r:50,photo:"photos/racingorg.jpg", fa:"fa-solid fa-list"},
  {id:"racing-history",  label:"YTÜ Racing Tarihçesi",         group:"racing", icon:"trophy",  r:48,photo:"photos/racinghistory.jpg",},
  {id:"astrid-members",  label:"Astrid Otonom Üyeleri",         group:"astrid", icon:"users",   r:50, photo:"photos/astridmembers.jpg",},
  {id:"astrid-project",  label:"Astrid Otonom Takımı",         group:"astrid", img:"icons/astrid.png",   r:68, iconScale:1.7, panelIconScale:1.7, photo:"photos/astridproject.jpg",},
  {id:"astrid-sponsors", label:"Astrid Otonom Sponsorları",        group:"astrid", icon:"star",    r:42,photo:"photos/astridsponsor.jpg",},
  {id:"astrid-contact",  label:"Astrid Otonom ile İletişime Geçin",         group:"astrid", icon:"phone",   r:44,photo:"photos/astridcontact.jpg",},
  {id:"astrid-org",      label:"Astrid Otonom Organizasyon Şeması",             group:"astrid", icon:"grid",     r:52,photo:"photos/astridorg.jpg", fa:"fa-solid fa-list"},
  {id:"astrid-history",  label:"Astrid Otonom Tarihçesi",         group:"astrid", icon:"trophy",r:48, photo:"photos/astridhistory.JPG",},
  {id:"sigma-members",   label:"Sigma Aeronautics Üyeleri",          group:"sigma",  icon:"users",   r:48, photo:"photos/sigmamembers.JPG"},
  {id:"sigma-project",   label:"Sigma Aeronautics Takımı",          group:"sigma",  img:"icons/sigma.png",    r:66, iconScale:1.7, photo:"photos/sigmaproject.JPG", panelIconScale:1.7},
  {id:"sigma-sponsors",  label:"Sigma Aeronautics Sponsorları",         group:"sigma",  icon:"star",    r:44, photo:"photos/sigmasponsor.jpg",},
  {id:"sigma-contact",   label:"Sigma Aeronautics ile İletişime Geçin",          group:"sigma", icon:"phone",    r:46, photo:"photos/sigmacontact.jpg",},
  {id:"sigma-org",       label:"Sigma Aeronautics Organizasyon Şeması",              group:"sigma",  icon:"grid",r:50, photo:"photos/sigmaorg.jpg", fa:"fa-solid fa-list"},
  {id:"sigma-history",   label:"Sigma Aeronautics Tarihçesi",          group:"sigma",  icon:"trophy",  r:52, photo:"photos/sigmahistory.jpg",},
  {id:"rocket-members",  label:"Yıldız Roket Üyeleri",         group:"rocket", icon:"users",   r:48, photo:"photos/rokethistory.jpg",},
  {id:"rocket-project",  label:"Yıldız Roket Takımı",         group:"rocket", img:"icons/roket.png",   r:50, iconScale:1.7, panelIconScale:1.7, photo:"photos/roketproject.jpg",},
  {id:"rocket-sponsors", label:"Yıldız Roket Sponsorları",        group:"rocket", icon:"star",    r:44, photo:"photos/roketsponsor.jpg",},
  {id:"rocket-contact",  label:"Yıldız Roket ile İletişime Geçin",         group:"rocket", icon:"phone",    r:46,photo:"photos/roketcontact.jpg",},
  {id:"rocket-org",      label:"Yıldız Roket Organizasyon Şeması",             group:"rocket", icon:"grid",     r:52,photo:"photos/roketorg.jpg", fa:"fa-solid fa-list"},
  {id:"rocket-history",  label:"Yıldız Roket Tarihçesi",         group:"rocket", icon:"trophy",r:48,photo:"photos/rokethistory.jpg",},
];

/* ── Force-directed layout (pure JS) ────────────────────── */
function runSim(nodes,W,H){
  // ↑ CHANGE 1: pad 22→55 for airy, breathable spacing
  const pad=55;
  const seed=nodes.map((n,i)=>({
    ...n,
    // wider initial spread so sim converges faster to spread state
    x:W/2+(Math.cos(i/nodes.length*Math.PI*2))*W*0.38 + (Math.random()-0.5)*200,
    y:H/2+(Math.sin(i/nodes.length*Math.PI*2))*H*0.38 + (Math.random()-0.5)*160,
    vx:0,vy:0,
  }));

  for(let t=0;t<500;t++){
    const alpha=Math.pow(1-t/500,1.4);

    // Softer center gravity so nodes stay spread
    for(const n of seed){
      n.vx+=(W/2-n.x)*0.003*alpha;
      n.vy+=(H/2-n.y)*0.003*alpha;
    }

    // Collision repulsion — stronger force (0.6→0.85)
    for(let i=0;i<seed.length;i++){
      for(let j=i+1;j<seed.length;j++){
        const a=seed[i],b=seed[j];
        const dx=b.x-a.x, dy=b.y-a.y;
        const dist=Math.sqrt(dx*dx+dy*dy)||0.001;
        const minD=a.r+b.r+pad;
        if(dist<minD){
          const f=((minD-dist)/dist)*0.85*alpha;
          a.vx-=dx*f; a.vy-=dy*f;
          b.vx+=dx*f; b.vy+=dy*f;
        }
        // Extra soft repulsion for nearby circles (not touching but too close)
        else if(dist<minD*1.6){
          const f=0.04*alpha*(1-(dist-minD)/(minD*0.6));
          a.vx-=dx*f; a.vy-=dy*f;
          b.vx+=dx*f; b.vy+=dy*f;
        }
      }
    }

    // Integrate — more damping for stability
    for(const n of seed){
      n.vx*=0.45; n.vy*=0.45;
      n.x+=n.vx; n.y+=n.vy;
      n.x=Math.max(n.r+36,Math.min(W-n.r-36,n.x));
      n.y=Math.max(n.r+90,Math.min(H-n.r-36,n.y));
    }
  }
  return seed;
}

/* ── Floats ─────────────────────────────────────────────── */
const FL=[
  {ax:3,ay:7,dx:0.8,dy:1.1},
  {ax:5,ay:5,dx:1.3,dy:0.7},
  {ax:4,ay:8,dx:0.6,dy:1.4},
  {ax:6,ay:4,dx:1.1,dy:0.9},
  {ax:2,ay:9,dx:0.9,dy:1.2},
];

/* ══════════════════════════════════════════════════════════
   NODE CIRCLE COMPONENT
══════════════════════════════════════════════════════════ */
function NodeCircle({node,g,idx,selected,hovered,setHovered,setSelected}){
  const elRef=useRef(null);
  const animState=useRef({ox:node.x,oy:node.y,phase:Math.random()*Math.PI*2,entered:false,enterProg:0,raf:null});
  const fl=FL[idx%FL.length];
  const isSel=selected?.id===node.id;
  const hasSel=!!selected;
  const isHov=hovered===node.id;

  useEffect(()=>{
    const el=elRef.current;
    if(!el)return;
    let raf;
    let startTime=null;
    const delay=idx*25;

    const animate=(ts)=>{
      if(!startTime)startTime=ts;
      const elapsed=ts-startTime-delay;

      if(elapsed<0){ raf=requestAnimationFrame(animate); return; }

      // Float offset
      const t=elapsed/1000;
      const phase=animState.current.phase;
      const ox=Math.sin(t*fl.dx+phase)*fl.ax;
      const oy=Math.cos(t*fl.dy+phase*1.3)*fl.ay;

      // Entrance pop (0→1 over 600ms with overshoot)
      const entProg=Math.min(elapsed/600,1);
      const entScale=entProg<1
        ? 0.3+Math.sin(entProg*Math.PI)*0.85
        : 1;
      const entOp=Math.min(elapsed/300,1);

      animState.current.ox=ox;
      animState.current.oy=oy;

      const finalX=node.x-node.r+ox;
      const finalY=node.y-node.r+oy;

      if(el){
        el.style.left=finalX+'px';
        el.style.top=finalY+'px';
        el.style.opacity=`${entOp * (hasSel && !isSel ? 0.22 : 1)}`;
        const hoverScale=isHov&&!hasSel?1.11:1;
        const selScale=isSel?0:hasSel?0.82:1;
        el.style.transform=`scale(${Math.min(entScale,1)*selScale*hoverScale})`;
      }

      raf=requestAnimationFrame(animate);
    };

    raf=requestAnimationFrame(animate);
    return()=>cancelAnimationFrame(raf);
  },[node.x,node.y,node.r,isSel,hasSel,isHov,idx,fl]);

  const iconSz=Math.round(node.r*(node.iconScale||0.52));

  return React.createElement('div',{
    ref:elRef,
    onMouseEnter:()=>{ if(!hasSel)setHovered(node.id); },
    onMouseLeave:()=>setHovered(null),
    onClick:()=>{ if(!hasSel){ setSelected(node); setHovered(null); } },
    style:{
      position:'absolute',
      width:node.r*2,
      height:node.r*2,
      borderRadius:'50%',
      background:g.color,
      display:'flex',
      alignItems:'center',
      justifyContent:'center',
      cursor:hasSel?'default':'pointer',
      boxShadow:isHov&&!hasSel
        ?`0 20px 55px -12px ${g.color}88`
        :`0 4px 22px rgba(0,0,0,0.09)`,
      transition:'box-shadow 0.3s ease, opacity 0.45s ease, transform 0.4s cubic-bezier(0.34,1.56,0.64,1)',
      willChange:'transform,opacity,left,top',
      userSelect:'none',
    }
  },
  node.fa
  ? React.createElement(FAIcon,{name:node.fa,size:iconSz,color:g.text})
  : node.img
    ? React.createElement(ImgIcon,{src:node.img,size:iconSz})
    : React.createElement(SVGIcon,{name:node.icon,size:iconSz,color:g.text})
  );
}

/* ══════════════════════════════════════════════════════════
   TOOLTIP (fixed pos, avoids zoom)
══════════════════════════════════════════════════════════ */
function Tooltip({node,nodes,zoom,shiftX}){
  if(!node)return null;
  const n=nodes.find(nd=>nd.id===node);
  if(!n)return null;

  const W=window.innerWidth, H=window.innerHeight;
  // screen coords of circle top-center
  const sx = (n.x - W/2)*zoom + W/2 + shiftX;
  const sy = (n.y - n.r - H/2)*zoom + H/2 - 10;

  return React.createElement('div',{
    key:node,
    style:{
      position:'fixed',
      left:sx,
      top:sy,
      transform:'translateX(-50%) translateY(-100%)',
      background:C.navy,
      color:'#fff',
      fontFamily:"'DM Mono',monospace",
      fontSize:'0.57rem',
      letterSpacing:'0.14em',
      textTransform:'uppercase',
      whiteSpace:'nowrap',
      padding:'5px 12px',
      borderRadius:3,
      pointerEvents:'none',
      zIndex:9999,
      animation:'ttFade 0.15s ease forwards',
    }
  },
    n.label,
    React.createElement('div',{style:{
      position:'absolute',top:'100%',left:'50%',
      transform:'translateX(-50%)',
      border:'5px solid transparent',
      borderTopColor:C.navy,
    }})
  );
}

/* ══════════════════════════════════════════════════════════
   MEMBERS DATA — per bubble id
══════════════════════════════════════════════════════════ */
const MEMBERS_DATA={
  "org-members":[
    {name:"Zeynep Topuz",    url:"https://linkedin.com/in/ahmet-yilmaz"},
    {name:"Dilara Yavuz",      url:"https://linkedin.com/in/ayse-demir"},
    {name:"Tunç Korkmazer",     url:"https://linkedin.com/in/mehmet-kaya"},
    {name:"Atakan Yıldırım",   url:"https://linkedin.com/in/zeynep-arslan"},
  ],
  "gen-members":[
    {name:"Arda Devrim",    url:"https://linkedin.com/in/ahmet-yilmaz"},
    {name:"Faruk Cem Kaleli",      url:"https://linkedin.com/in/ayse-demir"},
    {name:"Melike Şengelen",     url:"https://linkedin.com/in/mehmet-kaya"},
    {name:"Merve İrem Özdemir",   url:"https://linkedin.com/in/zeynep-arslan"},
  ],
  "gen-ins":[
    {name:"Prof. Özden Ağra",   url:"mailto:ali.celik@university.edu"},
    {name:"Doç. Alptekin Ergenç",   url:"mailto:fatma.kurt@university.edu"},
  ],
  "racing-members":[
    {name:"Cem Aygün",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Buse Koyunoğlu",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Ahmet Bağcı",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Alp Ömer Didici",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Osman Güneş",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Rafi Purtaş",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Erdem Çabuker",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Özgür Can Şenol",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Toygar Hilmi Öztürk",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Melike Dündar",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Bedirhan Ayhan",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Mehmet Emir Öztaş",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Kadir Bağcı",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Kerem Bayındır",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Özgür Deniz Özer",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Erim Eyigüngör",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Ahmet Sertkaya",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"İsmail Akbaş",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Burak Salih Yılmaz",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Bedirhan N. Yavaş",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Yiğit Ersan Kantarcı",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Ayşenur Özdemir",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Kaan Özsoy",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Emir Baran Çelik",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Serra Vardar",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Ata Dinçer",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Elif Ece Doğan",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Osman Emir Keçeci",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Nurlan Rahimov",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Bedirhan Can",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Metehan Dalkıran",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Bedirhan Akpınar",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Berke Çırak",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Göktuğ Gada",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Kazım Sancar Efe",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Oğuzhan Avcı",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Buğra Emin  Atan",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Sultan Berre Güngör",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"İkra Azra Pişirici",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Sueda Zeynep Demirtaş",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Çağan Yağız",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Mahir Kemal Çavdat",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Emirhan Özdemir",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"Yiğit Kadeş",    url:"https://linkedin.com/in/selin-yildiz"},
    {name:"Bora Akaner",      url:"https://linkedin.com/in/berk-dogan"},
    {name:"İbrahim Efe Odabaşı",    url:"https://linkedin.com/in/selin-yildiz"},
],
  "astrid-members":[
    {name:"Devrim",   url:"https://linkedin.com/in/kaan-demirbas"},
    {name:"Emirhan Günay",   url:"https://linkedin.com/in/kaan-demirbas"},
    {name:"Can Buğra Tezcan",   url:"https://linkedin.com/in/kaan-demirbas"},
    {name:"Elifgül Eyigün",   url:"https://linkedin.com/in/kaan-demirbas"},
    {name:"Mehmet Kaan Çakas",   url:"https://linkedin.com/in/kaan-demirbas"},
    {name:"Muhammed Fatih Özgür",   url:"https://linkedin.com/in/kaan-demirbas"},
    {name:"Ebrar Serim",   url:"https://linkedin.com/in/kaan-demirbas"},
    
  ],
  "sigma-members":[
    {name:"Haydar Enes Karaçobanım",    url:"https://linkedin.com/in/tugba-yilmaz"},
    {name:"Erdem Dalbak",       url:"https://linkedin.com/in/alper-sen"},
    {name:"Beyza Şenol",     url:"https://linkedin.com/in/merve-kocak"},
    {name:"Kerem Avcı",     url:"https://linkedin.com/in/tarik-ozkan"},
    {name:"Bilal Eryiğit",     url:"https://linkedin.com/in/busra-gunes"},
    {name:"Erce Yörükoğlu",    url:"https://linkedin.com/in/tugba-yilmaz"},
    {name:"Doğukan Kılıç",       url:"https://linkedin.com/in/alper-sen"},
    {name:"Ahmet Eren Altın",     url:"https://linkedin.com/in/merve-kocak"},
    {name:"Oğuzhan Öksüz",     url:"https://linkedin.com/in/tarik-ozkan"},
    {name:"Emirhan Bulut",     url:"https://linkedin.com/in/busra-gunes"},
    {name:"Yusuf İslam Sağdıç",    url:"https://linkedin.com/in/tugba-yilmaz"},
    {name:"Semranur Civan",       url:"https://linkedin.com/in/alper-sen"},
    {name:"Hafize Feyza Çelebi",     url:"https://linkedin.com/in/merve-kocak"},
    {name:"Özge Uzunharman",     url:"https://linkedin.com/in/tarik-ozkan"},
    {name:"Rukiye Esma Özdemir",     url:"https://linkedin.com/in/busra-gunes"},
    {name:"Can Akkaya",    url:"https://linkedin.com/in/tugba-yilmaz"},
    {name:"Gökçehan Gökçe",       url:"https://linkedin.com/in/alper-sen"},
    {name:"Serdar Topuz",     url:"https://linkedin.com/in/merve-kocak"},
    {name:"Alperen Tatlı",     url:"https://linkedin.com/in/tarik-ozkan"},
    {name:"Mehmet Ali Ildırar",     url:"https://linkedin.com/in/busra-gunes"},
    {name:"Dilara Gülen",    url:"https://linkedin.com/in/tugba-yilmaz"},
    {name:"Elif Rana Tüzün",       url:"https://linkedin.com/in/alper-sen"},
    {name:"Ali Berk Filiz",     url:"https://linkedin.com/in/merve-kocak"},
    {name:"Ceren Hacıoğlu",     url:"https://linkedin.com/in/tarik-ozkan"},
  ],
  "rocket-members":[
    {name:"Abdülmecit Kabasakal",     url:"https://linkedin.com/in/serdar-avci"},
    {name:"Nurmuhammet Kayagil",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"Ali Yağız Uz",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Mert Şelik",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Sudegül Bekmezci",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Mehmet Ali Duran",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"Gökdeniz Yıldırım",     url:"https://linkedin.com/in/serdar-avci"},
    {name:"Tayyip Arican",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"Melisa Zehiroğlu",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Yiğit Kağan Meriç",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Yusuf Çevik",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Salim Camcı",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"Abdullah Mert Genç",     url:"https://linkedin.com/in/serdar-avci"},
    {name:"Mervenur Acar",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"Ozan Daldaban",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Elif Sevda Nur Dumru",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Sueda Bekmezci",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Işıl Altınbay",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"Ahmet Yusuf Özbey",     url:"https://linkedin.com/in/serdar-avci"},
    {name:"Ata Oğul Karan",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"Gülsüm Yazıcı",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Berke Umut Şahintürk",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Abdullah Enes Kayaalp",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Furkan Uyar",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"Emir Han Avcı",     url:"https://linkedin.com/in/serdar-avci"},
    {name:"Fırat Aydın",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"Yusuf Karaman",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Sude İpek",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Nazlı Hilal İletmiş",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Muhammet Yiğit Yılmaz",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"Tuğba Can",     url:"https://linkedin.com/in/serdar-avci"},
    {name:"Fatıma Tüz Zehra Turgut",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"İlyas Dilben",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Ömer Faruk Yaman",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Emirhan Yusuf Özçelik",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Ayşe Betül Yılmaz",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"İlke Yatmaz",     url:"https://linkedin.com/in/serdar-avci"},
    {name:"Zeynep Öztürk",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"Efe Kağan Önem",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Alp Bora Görüşken",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Elif Doğan",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Abdullah Cumhur",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"Batuhan Baş",       url:"https://linkedin.com/in/ece-yaman"},
    {name:"Eren Balcı",    url:"https://linkedin.com/in/ugur-bozkurt"},
    {name:"Namık Hisar",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Emir Han Bulut",     url:"https://linkedin.com/in/baris-erdem"},
    {name:"Ömer Faruk Ekim",       url:"https://linkedin.com/in/gizem-tan"},
    {name:"Dilara Araci",    url:"https://linkedin.com/in/seda-karahan"},
    {name:"Ulaş Kayra Sarı",     url:"https://linkedin.com/in/baris-erdem"},
  ],
};

function isMemberBubble(id){
  return id&&(id.includes('members')||id.includes('active-members')||MEMBERS_DATA[id]!==undefined);
};

/* ══════════════════════════════════════════════════════════
   DETAIL PANEL
══════════════════════════════════════════════════════════ */
const CONTENT = {
  "org-bem":        ["BEMdays (Business Engineering Management Days), geleceğin mühendis adaylarına, bilim insanlarına ve liderlerine ilham vermeyi amaçlayan; bilim, teknoloji ve iş dünyasını bir araya getiren kapsamlı bir etkinliktir.",  
  "Üniversite kulübü olarak düzenlediğimiz bu organizasyonda, farklı sektörlerden uzman konuşmacılarla katılımcıları buluşturarak geleceğin teknolojileri, mühendislik uygulamaları ve yönetim yaklaşımları hakkında farkındalık oluşturmayı hedefliyoruz. Ücretsiz olarak gerçekleştirilen etkinlik, her yıl binlerce öğrenciye ulaşarak geniş kitlelere hitap etmektedir.",
  "BEMdays ismini Business, Engineering ve Management kavramlarının baş harflerinden almaktadır. Etkinlik kapsamında ülke sanayisinden teknoloji girişimlerine kadar geniş bir yelpazede başlıklar ele alınmakta, katılımcılara disiplinler arası bakış açısı kazandırılmaktadır.",
],
  "org-auto-evo":    ["“Otomobilin Evrimi: Yıldız Perspektifi” etkinliği, otomotivin dünyadaki tarihsel gelişimini ve Türkiye’deki dönüşümünü çift yönlü bir bakış açısıyla ele alan kapsamlı bir buluşmadır.",  
  "Etkinlik boyunca katılımcılar, otomotiv alanındaki yenilikleri ve geleceğe dair öngörüleri uzman konuşmacılardan dinleme fırsatı bulmuştur. Söyleşiler, sektörün dönüşümüne dair güncel içgörüler sunarken, ziyaretçilere ilham verici bir deneyim yaşatmıştır.",
  "Formula 1 tutkunlarına özel hazırlanan interaktif deneyim alanı etkinliğe dinamizm katmış; Ortaköy gezisi ise katılımcılar arasında keyifli bir sosyal bağ kurulmasını sağlamıştır.",
  "Ayrıca “İlkler ve Zirveler” sergisiyle otomobil tarihine damga vuran ikonik modeller ve sektördeki kritik dönüm noktaları ziyaretçilerle buluşturulmuş, geçmişten bugüne uzanan etkileyici bir yolculuk sunulmuştur.",
],
  "org-defense":   ["Savunma Sanayi Günleri (SSG), Yıldız Teknik Üniversitesi Makine Teknolojileri Kulübü tarafından 10 kezden fazla düzenlenen ve sektörün en büyük öğrenci organizasyonlarından biri olma özelliği taşıyan prestijli bir etkinliktir.",  
  "Etkinlik kapsamında; ulusal savunma sanayinde dışa bağımlılığın azaltılması, milli teknolojik sistemlerin geliştirilmesi ve Ar-Ge faaliyetleri odağında uzman konuşmacılar ve sektör temsilcileri katılımcılarla bir araya gelmektedir.",
  "SSG; paneller, sunumlar ve söyleşiler aracılığıyla öğrencilere savunma sanayinin mevcut durumu ve geleceğine dair kapsamlı bir perspektif sunarken, katılımcılara sektör profesyonelleriyle doğrudan etkileşim kurma fırsatı sağlamaktadır.",
],
  "org-datathon":   ["Datathon, Makine Teknolojileri Kulübümüz ile YTÜ Veri Bilimi Topluluğu iş birliğinde ve Beko Corporate desteğiyle düzenlenen ödüllü bir veri analitiği yarışmasıdır.",  
  "Etkinlik boyunca katılımcılar, gerçek dünya problemleri üzerine çalışarak veri okuryazarlığı, analitik düşünme ve problem çözme becerilerini geliştirme fırsatı bulmuştur. Takımlar; verilen veri setleri üzerinden içgörü üretmiş, çözüm önerileri geliştirmiş ve projelerini jüriye sunmuştur.",
  "Datathon, öğrencileri endüstri problemleriyle buluşturarak teknik yetkinliklerini pekiştirmeyi ve disiplinler arası iş birliğini teşvik etmeyi amaçlamaktadır.",
],
  "org-ces":   ["CES, MAKTEK bünyesinde faaliyet gösteren ve sürdürülebilirlik odaklı projeler geliştiren alt ekiptir.",  
  "Ekip; çevresel farkındalık oluşturmayı, kaynak verimliliğini artırmayı ve mühendislik çözümleriyle sürdürülebilir bir gelecek inşa etmeyi amaçlamaktadır. Yenilenebilir enerji, atık yönetimi, çevre dostu tasarım yaklaşımları ve sosyal etki projeleri CES’in temel çalışma alanları arasında yer almaktadır.",
  "CES üyeleri; teknik projelerin yanı sıra saha çalışmaları, sosyal sorumluluk faaliyetleri ve sürdürülebilirlik temalı etkinliklerde aktif rol alarak üniversite içerisinde bilinç oluşturmayı hedeflemektedir.",
  "Amaç; mühendislik bilgisini çevresel sorumlulukla birleştirerek hem kampüs içinde hem de toplum genelinde kalıcı etki yaratacak projeler üretmektir.",
],
  "org-tubitak":   ["Kulübümüz, 2025 yılı 1. dönem çağrıları kapsamında ekiplerimizle birlikte toplam 77 proje başvurusu gerçekleştirmiştir.",  
  "Bu başvuruların 60’ı 2209-A Üniversite Öğrencileri Araştırma Projeleri Destekleme Programı, 17’si ise 2209-B Üniversite Öğrencileri Sanayiye Yönelik Araştırma Projeleri Destekleme Programı kapsamında yapılmıştır.",
  "Öğrenci kulüpleri düzeyinde bu ölçekte bir proje üretimi; bilimsel düşünceyi, mühendislik yaklaşımını ve takım çalışmasını merkeze alan kültürümüzün önemli bir göstergesidir. Süreç boyunca danışman hocalarımız ve sanayi paydaşlarımızla yakın iş birliği içerisinde çalışarak Ar-Ge odaklı projeler geliştirdik.",
  "Bu çalışmalarla amacımız; öğrencilerimizin araştırma yetkinliklerini artırmak, üniversite–sanayi bağını güçlendirmek ve ülkemizin teknoloji ekosistemine nitelikli katkılar sunmaktır.",
],
  "org-sponsor":   ["Organizasyon sponsorlarımız, MAKTEK bünyesinde gerçekleştirilen tüm etkinliklerin ve projelerin hayata geçirilmesinde önemli rol oynamaktadır.",  
  "Sponsorlarımız; etkinlik altyapısı, tanıtım çalışmaları, lojistik destek ve organizasyon süreçlerinde kulübümüze katkı sağlayarak öğrenci–sektör etkileşimini güçlendirmektedir. Kurulan iş birlikleri sayesinde Datathon, BEMdays, Savunma Sanayi Günleri ve benzeri organizasyonlar daha geniş kitlelere ulaşabilmektedir.",
  "Organizasyon Sponsorları ekibi; potansiyel firmalarla iletişim kurmak, kurumsal iş birlikleri geliştirmek ve sürdürülebilir sponsor ilişkileri oluşturmak amacıyla aktif çalışmalar yürütmektedir.",
  "Yeni teknik ve kurumsal iş birliklerine her zaman açığız.",
],
  "org-members":   ["Organizasyon ekibi, MAKTEK bünyesindeki tüm etkinliklerin planlanması, koordinasyonu ve yürütülmesinde aktif rol alan çekirdek kadrodur.",  
  "Üyeler; etkinlik organizasyonu, üye yönetimi, iletişim süreçleri, sponsorluk görüşmeleri, eğitim planlamaları ve teknik altyapı çalışmalarında görev alarak kulüp faaliyetlerinin sorunsuz şekilde ilerlemesini sağlar.",
  "Organizasyon üyeleri yalnızca operasyonel süreçleri değil; aynı zamanda kulübün kurumsal kimliğini, dış paydaş ilişkilerini ve sürdürülebilir gelişimini de desteklemektedir. Disiplinler arası çalışma kültürüyle hareket eden ekip, MAKTEK’in tüm projelerine koordinasyon ve yönlendirme sağlamaktadır.",
],
  "org-side":   ["Yan projeler kapsamında, kulübümüz ile Sistem Alüminyum arasında Stratejik İş Birliği Protokolü imzalanmıştır.",  
  "Bu iş birliği ile teoriyi sanayiyle buluşturmayı, Ar-Ge çalışmalarımızı katma değerli projelere dönüştürmeyi ve mühendislik vizyonumuzu yerli üretim odağında güçlendirmeyi hedefliyoruz.",
  "Gerçekleştirilen protokol sayesinde öğrencilerimiz; üretim süreçleri, endüstriyel uygulamalar ve mühendislik pratikleriyle doğrudan temas kurma fırsatı elde etmektedir. Yan projelerimiz, üniversite–sanayi etkileşimini artırarak sürdürülebilir bir öğrenme ve üretim ekosistemi oluşturmayı amaçlamaktadır.",
],
  "org-schema":   ["MAKTEK organizasyon yapısı; kulüp faaliyetlerinin sürdürülebilir, koordineli ve verimli şekilde yürütülmesini sağlayan farklı koordinatörlüklerden oluşmaktadır.",  
  "Organizasyon Departmanı; etkinlik planlaması, sosyal sorumluluk çalışmaları, teknik geziler, yarışmalar ve kulüpler arası iş birliklerini koordine etmektedir. Aynı zamanda üye yönetimi süreçleri kapsamında tanıtım günleri, yeni üye kayıtları ve mevcut üyelerle düzenli iletişim bu birim tarafından yürütülmektedir.",
  "İletişim ve Medya Koordinatörlüğü; kulübün sosyal medya hesaplarının yönetimi, görsel tasarım çalışmaları, etkinliklerde fotoğraf ve video çekimleri ile içerik üretiminden sorumludur.",
  "Sponsorlar ve İş Birliği Koordinatörlüğü; potansiyel sponsor firmaların belirlenmesi, kurumsal görüşmelerin yürütülmesi ve iş birliği tekliflerinin hazırlanmasını üstlenmektedir.",
  "Eğitim Koordinatörlüğü; takımlara ve tüm üyelere yönelik teknik ve kişisel gelişim eğitimlerini organize etmekte, sertifika programlarının planlanmasını sağlamaktadır.",
  "Teknoloji Koordinatörlüğü ise yazılım, mekanik ve donanımsal projelerin yürütülmesinden sorumlu olup; kulüp web sitesi, 3D tasarım ve teknik altyapı çalışmalarını koordine etmektedir.",
  "Bu yapı sayesinde MAKTEK, hem teknik projelerini hem de organizasyonel faaliyetlerini entegre bir şekilde sürdürebilmektedir.",
],
  "gen-vision":     [
  "BİZ KİMİZ?",
  "Makine Teknolojileri Kulübü (MAKTEK), 1997 yılında Yıldız Teknik Üniversitesi'nde kurulmuş, multidisipliner yapısıyla mühendislik ve teknoloji alanlarında faaliyet gösteren köklü bir öğrenci topluluğudur. Kulübümüz “Akademik bilgi ile pratik deneyimi birleştirmek” vizyonuyla hareket ederek öğrencilerin teknik, sosyal ve sektörel gelişimini destekleyen ilham verici bir mühendislik ekosistemi oluşturmayı amaçlamaktadır.",
  "Üyelerimiz; tasarım, analiz, üretim ve organizasyon gibi farklı alanlarda yetkinlik kazanırken, disiplinler arası takım projeleri, teknik eğitimler, seminerler, teknik geziler ve yarışmalarla gerçek dünya deneyimi edinmektedir.",
  "Ulusal ve uluslararası yarışmalar için hazırlanan kapsamlı projelerimizin yanı sıra, TÜBİTAK destekli akademik çalışmalara ve Arçelik Garage Laboratuvarıgibi sanayi ortaklı projelere de katılım sağlanmaktadır. Aynı zamanda birçok üyemiz lisans bitirme tezlerini kulüp projeleri kapsamında geliştirmekte, böylece akademik bilgilerini sahada uygulama fırsatı bulmaktadır.",
  "VİZYON",  
  "Yenilikçi, girişimci ve teknolojiyi yakından takip eden bireyler yetiştirerek, öğrencilerin akademik bilgi ile pratik deneyimi birleştirebildiği, ilham verici bir mühendislik ekosistemi oluşturmaktır.",
  "MİSYON",
  "Öğrencilerinin teknik bilgi ve becerilerini artırmalarına, çok disiplinli proje ekiplerinde yer alarak gerçek dünya problemlerine çözüm üretmelerine olanak tanımaktır. Ulusal ve uluslararası başarılar elde eden projelerin yanı sıra, teknik eğitimler, sektörel etkinlikler, yarışmalar ve networking fırsatları ile kulübümüz mühendislik dünyasına değer katmayı ve öğrencilere kariyer yolculuklarında sağlam bir temel sunmayı görev edinmektedir",
  "YA AR-GE YA DA SÖMÜRGE!"
],
  "gen-comm":     [
  "Görüş, öneri veya iş birliği talepleriniz için bizimle iletişime geçebilirsiniz.",
  "Etkinliklerimiz, projelerimiz veya sponsorluk süreçleri hakkında bilgi almak isterseniz formu doldurarak bize mesaj bırakmanız yeterlidir. Ekibimiz en kısa sürede sizinle iletişime geçecektir.",
  "Birlikte üretmek ve geliştirmek için buradayız.",
],
  "gen-ins":     [
  "Kulüp danışman hocalarımıza, bilgi birikimleri, akademik rehberlikleri ve süreç boyunca sundukları değerli destekler için içten teşekkür ederiz.",
  "Projelerimizin şekillenmesinde, teknik çalışmalarımızın yönlendirilmesinde ve öğrencilerimizin gelişiminde önemli rol üstlenen danışmanlarımız; kulübümüzün sürdürülebilir ilerleyişine büyük katkı sağlamaktadır.",
  "Akademi ile öğrenci toplulukları arasındaki bu güçlü bağ sayesinde, daha nitelikli projeler üretmeye ve geleceğin mühendislerini yetiştirmeye devam ediyoruz.",
  " ",
  "Değerli hocalarımız, varlığınız bize güç veriyor..."
],
  "gen-contact":     [
  "MAKTEK ile iletişime geçmek için aşağıdaki kanalları kullanabilirsiniz.",
  "Kulüp Yönetim Kurulu Başkanı - Arda Devrim",
  "E-Posta: arda@gmail.com",
  "Kulüp E-Posta Adresi: maktekytu@gmail.com",
  "Etkinliklerimiz, projelerimiz, sponsorluk iş birlikleri veya kulüp faaliyetleri hakkında bilgi almak için bizimle iletişime geçebilirsiniz. Ekibimiz en kısa sürede geri dönüş sağlayacaktır.",
],
  "gen-thanks":     [
  "Bugün geldiğimiz noktada, geçmişte kulübümüze emek vermiş, gecesini gündüzüne katmış, projeler için sabahlamış ve bu yapının temellerini atan mezunlarımızın büyük payı bulunmaktadır.",
  "Her etkinlikte, her projede ve her başarıda; zamanını, bilgisini ve enerjisini kulübümüz için ortaya koyan önceki dönem üyelerimizin izleri vardır. Mezunlarımız yalnızca teknik bir miras değil; aynı zamanda çalışma kültürü, dayanışma ruhu ve üretme motivasyonu bırakmıştır.",
  "Kulübümüzün bugünlere ulaşmasında emeği geçen tüm mezunlarımıza içten teşekkür eder, kariyer yolculuklarında başarılarının devamını dileriz.",
  "Sizlere çok şey borçluyuz..."
],
  "gen-members":     [
  "Yönetim Kurulu, MAKTEK bünyesindeki tüm ekip ve faaliyetlerin stratejik yönlendirmesinden sorumlu ana karar mekanizmasıdır.",
  "Kurul üyeleri; kulübün vizyonunu belirlemek, uzun vadeli hedeflerini oluşturmak ve organizasyonel süreçlerin sağlıklı şekilde ilerlemesini sağlamak amacıyla koordineli biçimde çalışmaktadır. Teknik projelerden etkinlik organizasyonlarına, sponsorluk ilişkilerinden üye yönetimine kadar tüm alanlarda rehberlik sunmaktadır.",
  "Yönetim Kurulu, kulübün sürdürülebilir gelişimini destekleyerek öğrencilere hem teknik hem de yönetsel anlamda güçlü bir çalışma ortamı sağlamayı hedeflemektedir.",
],
  "racing-project": ["YTU Racing, 2011 yılında Yıldız Teknik Üniversitesi’nde kurulmuş; içten yanmalı ve elektrikli Formula Student araçları tasarlayan, üreten ve test eden bir öğrenci takımıdır.",  
  "Takım bugüne kadar 9 içten yanmalı ve 3 elektrikli araç üretmiş, Türkiye’nin ilk monokok şasisini geliştirmiştir. Her yıl Almanya, İtalya, Çekya ve Macaristan’da düzenlenen Formula Student yarışmalarında ülkemizi temsil etmektedir.",
  "Garaj bünyesinde AR-GE ve tasarım odası, üretim atölyesi, kompozit odası ve motor dinamometresi bulunmaktadır. Üretilen araçların yaklaşık %90’ı yerli imalattan oluşmaktadır.",
],
  "racing-members": ["YTU Racing üyeleri; Makine, Elektrik-Elektronik, Kontrol-Otomasyon, Mekatronik, Elektronik-Haberleşme ve Metalurji-Malzeme mühendisliği öğrencilerinden oluşan yaklaşık 35 kişilik multidisipliner bir ekipten meydana gelmektedir.",  
  "Takım bünyesinde Araç Dinamiği, Powertrain, E-Powertrain, Aerodinamik, Kompozit, Otonom ve Organizasyon departmanları bulunmaktadır. Her üye kendi uzmanlık alanında çalışarak yarış aracının tasarım, üretim, test ve yarış süreçlerine doğrudan katkı sağlar.",
  "Üyelerimiz yalnızca teknik geliştirmelerde değil; aynı zamanda sponsorluk ilişkileri, proje yönetimi ve organizasyon faaliyetlerinde de aktif rol almaktadır.",
],
  "racing-history": [
  "2014 – İlk araç YTR01 ile Silverstone Formula Student yarışına katılım",  
  "2015 – Formula Student yarışmasında En Etkili Medya ve İletişim Ödülünün alınması",
  "2016 – Formula Student yarışmasında tüm etapları tamamlayan ilk ve tek Türk takımı",
  "2017 – Almanya, Çekya ve Macaristan yarışlarında tüm etapların tamamlanması",
  "2018 – Formula Student İtalya yarışmasında Hızlanma Etabı ikinciliği, Çekya yarışmasında ise GenelSıralama dördüncülüğü",
  "2019 – İtalya’da 684 puan ile Türk takımları arasındaki en yüksek skor, genel klasmanda 7.’lik, Çekya’da ise 15.’lik, Almanya’da 18.’lik ",  
  "2021 – Çekya yarışında hızlanma 1.’liği, Dayanıklılık Etabı üçüncülüğü ve genel klasmanda 5.’lik",
  "2022 – İlk elektrikli araç üretimi, tüm etapları tamamlayan Türkiye’nin ilk takımı; Formula Student İtalya yarışmasında Hızlanma Etabı ikinciliği ve Autocross Etabı dördüncülüğü, Çekya yarışmasında ise Hızlanma Etabı ikinciliği ve İş Planı Sunumu ikinciliği",
  "2024 – Formula Student Alpe Adria yarışında içten yanmalı araçla hızlanma şampiyonluğu ve Autocross 3.’lüğü",
  "2025 – Formula Student Çekya yarışmasında CV (içten yanmalı motor) klasmanında şampiyon olmuştur (Genel klasman, Dayanıklılık ve Hızlanma kategorilerinde birincilik; Skidpad ve Verimlilik kategorilerinde ikincilik; Autocross kategorisinde üçüncülük elde etmiştir. Formula Student Alpe Adria yarışmasında da SkidPad- Yol tutuşu ve denge birinciliği, Autocross- Çeviklik ve dar viraj hakimiyeti birinciliği, Acceleration- Kalkış ve hızlanma kabiliyeti ikinciliği elde etmiştir.",
  "Bu süreç boyunca YTU Racing, Avrupa’nın en güçlü Formula Student takımlarıyla rekabet eden seviyeye ulaşmıştır.",
],
  "racing-sponsor": ["Projelerimiz; sanayi kuruluşları, teknik partnerler ve bireysel destekçilerimizin katkılarıyla yürütülmektedir.",  
  "Sponsorlarımız; üretim, test altyapısı, malzeme temini ve lojistik alanlarında takımımıza destek olmaktadır. Sponsor logoları yarış araçlarımızda, web sitemizde, sosyal medya kanallarımızda ve tanıtım materyallerimizde yer almaktadır.",
  "Yeni teknik ve kurumsal iş birliklerine her zaman açığız.",
],
  "racing-contact": ["Kurumsal iş birlikleri ve sponsorluk süreçleri Organizasyon Ekibi tarafından yürütülmektedir.",  
  "Takım liderliği ve akademik danışmanlarımız aracılığıyla iletişim sağlanabilir. Ayrıca sosyal medya kanallarımız ve resmi e-posta adresimiz üzerinden bizimle iletişime geçebilirsiniz.",
  "Yeni teknik ve kurumsal iş birliklerine her zaman açığız.",
  "Adres:",
  "Yıldız Teknik Üniversitesi, Beşiktaş Kampüsü – İstanbul",
  "E-posta:",
  "yturacing@yildiz.edu.tr",
],
  "racing-org": ["YTU Racing organizasyon yapısı aşağıdaki ana departmanlardan oluşmaktadır:",  
  "• Araç Dinamiği",
  "• Powertrain / E-Powertrain",
  "• Kompozit",
  "• Otonom Sistemler",
  "• Organizasyon (Proje Yönetimi, Kurumsal İletişim, Sponsorluk, İnsan Kaynakları)",
  "Her departman kendi alanında tasarım, analiz, üretim ve test faaliyetlerini yürütmektedir. Organizasyon Ekibi ise sponsorluk ilişkileri ve dış paydaş iletişimini koordine etmektedir.",
],
  "sigma-members":  ["YTU Sigma Aeronautics üyeleri; Makine, Elektrik-Elektronik, Havacılık, Kontrol-Otomasyon, Bilgisayar ve Metalurji-Malzeme mühendisliği öğrencilerinden oluşmaktadır.",  
  "Takım bünyesinde Yapısal, Aviyonik, İtki, Uçuş Dinamiği ve Organizasyon departmanlarında aktif görev alan öğrenciler yer almaktadır. Her üye kendi uzmanlık alanında çalışarak hava araçlarının tasarım, üretim, analiz ve uçuş süreçlerine doğrudan katkı sağlamaktadır.",
  "Üyelerimiz teknik çalışmaların yanı sıra proje yönetimi, sponsorluk görüşmeleri ve organizasyon faaliyetlerinde de aktif rol almaktadır.",
],
  "sigma-project":  ["YTU Sigma Aeronautics, 2012 yılında Yıldız Teknik Üniversitesi bünyesinde insansız hava araçları tasarlamak ve üretmek amacıyla kurulmuştur.",  
  "Takım, AIAA Design Build Fly (DBF) yarışmaları ile başlayan yolculuğunu 2019 itibarıyla YTU Sigma Aeronautics adı altında genel bir havacılık takımına dönüştürmüştür. Günümüzde sabit kanat İHA’ların yanı sıra uçuş kontrolü, aviyonik ve itki sistemleri alanlarında da aktif çalışmalar yürütmektedir.",
  "Sigma Aeronautics; üniversite–sanayi iş birliği çerçevesinde mühendislik öğrencilerine gerçek hava aracı geliştirme tecrübesi kazandırmayı hedeflemektedir.",
],
  "sigma-history":  [
  "2012 – Takımın kuruluşu ve ilk test uçağı GÖKÇEN",  
  "2014 – DEMİRAĞ-14 ile AIAA DBF yarışmasına ilk katılım",
  "2015 – Karbon fiber gövdeye sahip “VECİHİ-15” ile DBF uçuş kategorisinde dünya 8.’liği",
  "2016 – HAZERFEN-16 ile TÜBİTAK İHA yarışmasında detaylı tasarım 2.’liği",  
  "2017 – DBF yarışmasında CEVHERİ-17 ile Türkiye’den finale kalan tek teknik üniversite",
  "2018 – GÖKMEN-18 ile tam kompozit üretim tecrübesi",
  "2019 – TÜBİTAK UAV Turkey’de HÜRKUŞ’19 ile İHA kavramsal tasarım 1.’liği, Detaylı Tasarım Raporu 2.’liği",  
  "2020 – Kendi atölyemizde SBN-20 için karbon fiber gövdeli İHA üretimi",
  "2021 – Eklemeli imalat yöntemiyle Sigma-21 test uçağının üretimi ve otonom uçuş denemeleri",
  "2022 – DBF yarışması ön eleme raporunda 127 takım arasında 38., detaylı tasarım raporunda 97 takım arasında 32. olarak Türkiye takımları arasında en yüksek rapor puanının alınması",  
  "2023 – İlk kez VTOL konseptli hava aracı geliştirilmesi",
  "2024 – SGM-100 ATLAS ile DBF ön eleme 3.’lüğü",
  "2025 – ABD’de düzenlenen DBF yarışmasında elemeleri geçerek finale kalan tek Türk takımı, Teknofest İHA Yarışması’nda teknik rapor 1.'liği",
  "Takım, yıllar içinde kompozit üretim, uçuş kontrol ve motor test altyapısı konusunda ciddi bir mühendislik birikimi oluşturmuştur.",
],
  "sigma-sponsor":  ["Projelerimiz; sanayi kuruluşları ve bireysel destekçilerimizin katkılarıyla yürütülmektedir.",  
  "Sponsorlarımız; malzeme temini, üretim altyapısı, test süreçleri ve tanıtım faaliyetlerinde takımımıza destek sağlamaktadır. Sponsor logoları hava araçlarımızda, sosyal medya hesaplarımızda ve tanıtım materyallerimizde yer almaktadır.",
  "Yeni teknik ve kurumsal iş birliklerine her zaman açığız.",
],
  "sigma-contact":  ["Kurumsal iş birlikleri ve sponsorluk talepleri Organizasyon Ekibi tarafından değerlendirilmektedir.",  
  "Adres:",
  "Yıldız Teknik Üniversitesi, R Blok Beşiktaş / İstanbul",
  "Takım Lideri Maili:",
  "haydarenesk@gmail.com",
],
  "sigma-org":  [
  "Sigma Aeronautics organizasyon yapısı şu ana departmanlardan oluşmaktadır:",  
  "• Yapısal ve Kompozit",
  "• Aviyonik ve Yazılım",
  "• Uçuş Dinamiği ve Kontrol",
  "• İtki Sistemleri",
  "• Organizasyon ve Kurumsal İletişim ",
  "Her departman tasarım, analiz, üretim ve test süreçlerini kendi sorumluluğunda yürütmektedir.",
],  
  "astrid-members":  ["YTU Astrid Otonom Takımı üyeleri; Makine, Elektrik-Elektronik, Bilgisayar, Kontrol-Otomasyon ve ilgili mühendislik bölümlerinden oluşan multidisipliner bir ekip yapısına sahiptir.",  
  "Takım bünyesinde Mekanik, Elektronik & Haberleşme, Otonom Yazılım ve Organizasyon departmanlarında aktif görev alan öğrenciler bulunmaktadır. Her üye, otonom aracın mekanik tasarımından yazılım geliştirmeye kadar tüm süreçlerde doğrudan rol almaktadır.",
  "Üyelerimiz teknik çalışmaların yanı sıra proje yönetimi, sponsorluk ilişkileri ve tanıtım faaliyetlerinde de aktif sorumluluk üstlenmektedir.",
],
  "astrid-project":  ["YTU Astrid Otonom Takımı, Türkiye’nin teknoloji geleceğine katkı sağlamak amacıyla otonom araç teknolojileri üzerine AR-GE çalışmaları yürüten bir öğrenci takımıdır.",  
  "Takım; Software Defined Vehicles yaklaşımıyla yazılım tanımlı otomobiller geliştirerek seviye-5 otonomi hedefi doğrultusunda çalışmalarını sürdürmektedir. Mekanik, elektronik ve otonom kalibrasyon süreçleri entegre biçimde ele alınmakta; L6 sınıf mikromobilite konsepti üzerine odaklanılmaktadır.",
  "Amaç; şehir içi ulaşımın dönüşümünde rol alan, güvenli ve sürdürülebilir otonom araç çözümleri geliştirmektir.",
  "Astrid Otonom Takımı çalışmalarını ağırlıklı olarak TEKNOFEST Robotaksi yarışmasının Özgün Araç kategorisine yönelik sürdürmektedir.", 
  "Projeler kapsamında; algılama (perception), SLAM, navigasyon ve kontrol yazılımları geliştirilmekte; LIDAR, IMU ve stereo kamera gibi sensörlerin füzyonu ile güvenli otonom sürüş hedeflenmektedir.",
  "Elektrikli araç altyapısında batarya yönetimi, güç aktarımı ve araç içi haberleşme sistemleri üzerine çalışmalar yürütülmektedir.",
],
  "astrid-history":  [
  "2021 – Takımın kuruluşu, Ön Tasarım Raporu başarısı, TÜBİTAK proje desteği ve 7 firmadan teknik destek",
  "2023 – Teknofest Robotaksi Ön Tasarım ve Kritik Tasarım Raporu başarıları, Robolig finalistliği, TÜBİTAK desteği",
  "2024 – Teknofest Robotaksi Finali, TÜBİTAK 2209/B sanayi ortaklı proje desteği ve 10 firmadan proje desteği",  
  "Bu süreç boyunca Astrid ekibi, otonom sürüş yazılımı, elektrikli araç sistemleri ve mekanik entegrasyon alanlarında sürekli gelişim göstermiştir.",
],
  "astrid-sponsor":  ["Projelerimiz; sanayi kuruluşları, teknik partnerler ve bireysel destekçilerimizin katkılarıyla hayata geçirilmektedir.",  
  "Sponsorlarımız; araç üretimi, test altyapısı, yazılım geliştirme süreçleri ve lojistik alanlarında takımımıza destek sağlamaktadır. Sponsor logoları aracımız üzerinde, sosyal medya kanallarımızda ve tanıtım materyallerinde yer almaktadır.",
  "Yeni teknik ve kurumsal iş birliklerine her zaman açığız.",
],
  "astrid-contact":  ["Kurumsal iş birlikleri ve sponsorluk talepleri Organizasyon Ekibi tarafından değerlendirilmektedir.",  
  "Adres:",
  "Yıldız Teknik Üniversitesi, R Blok Beşiktaş / İstanbul",
  "Takım Maili:",
  "astridotonom@gmail.com",
],
  "astrid-org":  [
  "Astrid Otonom organizasyon yapısı aşağıdaki ana departmanlardan oluşmaktadır:",  
  "• Vehicle Autonomous Software (Algılama, SLAM, Navigasyon, Kontrol)",
  "• Vehicle Electronics & Communication (Batarya yönetimi, sensörler, haberleşme protokolleri)",
  "• Vehicle Mechanics (Direksiyon, süspansiyon, fren ve güç aktarım sistemleri)",
  "• Team Operations & Business (Sponsorluk, pazarlama, proje sekreterliği)",
  "Her departman tasarım, analiz, üretim ve test süreçlerini kendi sorumluluğunda yürütmektedir.",
],  
  "rocket-members":  ["Yıldız Roket Takımı üyeleri; Makine, Elektrik-Elektronik, Havacılık, Kontrol-Otomasyon, Kimya ve Metalurji-Malzeme mühendisliği öğrencilerinden oluşan multidisipliner bir ekip yapısına sahiptir.",  
  "Takım bünyesinde Aviyonik, İtki, Yapısal ve Organizasyon departmanlarında aktif görev alan 38 çekirdek üye bulunmaktadır. Her üye kendi uzmanlık alanında çalışarak roketlerin tasarım, üretim, test ve uçuş süreçlerine doğrudan katkı sağlar.",
  "Üyelerimiz teknik çalışmaların yanı sıra proje yönetimi, sponsorluk görüşmeleri ve organizasyon faaliyetlerinde de aktif rol almaktadır.",
],
  "rocket-project":  ["Yıldız Roket Takımı, 17 Mart 2017 tarihinde Yıldız Teknik Üniversitesi bünyesinde kurulmuştur.",  
  "Takım; yüksek güçlü roket sistemleri ve hibrit roket motorları geliştiren, Ar-Ge odaklı bir öğrenci topluluğudur. Amaç; uzay ve havacılık alanında nitelikli mühendisler yetiştirirken, ülkemize özgün roket teknolojileri kazandırmaktır.",
  "Bugüne kadar birçok TÜBİTAK destekli proje yürüten ekip, Teknofest ve IREC gibi uluslararası yarışmalarda ülkemizi temsil etmektedir.",
  "Yıldız Roket Takımı’nın ana projeleri ARTAM yüksek güç roket serisi ve DEMİRKAZIK hibrit roket motorudur.",
  "ARTAM-I roketi yaklaşık 35.8 kg ağırlığa, 155 mm çapa ve 6750 m maksimum irtifaya ulaşacak şekilde tasarlanmıştır. Rokette Stardust V2 aviyonik ünitesi, AKU faydalı yük ve çift paraşütlü kurtarma sistemi kullanılmaktadır.",
  "DEMİRKAZIK projesi ise parafin bazlı yakıt ve N₂O oksitleyici kullanan hibrit roket motoru geliştirmeye odaklanmaktadır. DEMİRKAZIK-II motoru yaklaşık 2200 N itki üretmiş ve tam sıcak ateş testlerinden başarıyla geçmiştir.",
  "Projeler TÜBİTAK 2209-A ve 2209-B programları kapsamında desteklenmektedir.",
],
  "rocket-history":  [
  "2017 – Takımın kuruluşu",  
  "2018 – Teknofest Roket Yarışması’nda alçak irtifada 15.'liği",
  "2019 – Teknofest Roket Yarışması orta irtifa 2.’liği, yüksek irtifada 5.'liği",
  "2020 – İlk hibrit roket motoru ALAZ'ın ateşlemesi, Teknofest Roket Yarışması’nda orta irtifa kategorisinde Türkiye 2.'liği,",
  "2021 – İlk hibrit roket motoru ALAZ'ın ateşlemesi, Teknofest Roket Yarışması’nda orta irtifa kategorisinde Türkiye 2.'liği, yüksek irtifada finalistlik derecesi",
  "2022 – Spaceport America Cup- IREC Yarışması’nda COTS finalistlik derecesi, Teknofest Roket Yarışması’nda orta irtifada en başarılı kurtarma ve TÜRKSAT Model Uydu Yarışması’nda 8.'liği, yeni hibrit motor DEMİRKAZIK’ın ateşlemesi",  
  "2023 – AR-GE görevlerinin ikinci misyonları, Teknofest 2024 hibrit motor yarışması için ön tasarımın tamamlanması",
  "2024 – Teknofest Hibrit Yakıtlı Roket Motoru Geliştirme Yarışması finalistliği; uçuş, itki ve kurtarma sistemlerinde iyileştirmeler",
  "2025 – DEMİRKAZIK-3 hibrit motoru ve ARTAM-2 roketiyle 8000 metre irtifaya ulaşarak rekor kırılması",
  "Bu süreç boyunca Yıldız Roket Takımı; aerodinamik, itki ve aviyonik altyapısını sürekli geliştirerek yüksek güçlü roket teknolojileri alanında önemli bir mühendislik birikimi oluşturmuştur.",
],
  "rocket-sponsor":  ["Projelerimiz; sanayi kuruluşları ve teknik partnerlerimizin katkılarıyla hayata geçirilmektedir.",  
  "Sponsorlarımız üretim, test altyapısı, malzeme temini ve lojistik süreçlerde takımımıza destek sağlamaktadır. Sponsor logoları roketlerimizde, sosyal medya hesaplarımızda ve tanıtım materyallerimizde yer almaktadır.",
  "Yeni teknik ve kurumsal iş birliklerine her zaman açığız.",
],
  "rocket-contact":  ["Kurumsal iş birlikleri ve sponsorluk talepleri Organizasyon Departmanı tarafından değerlendirilmektedir.",  
  "Adres:",
  "Yıldız Teknik Üniversitesi, R Blok Beşiktaş / İstanbul",
  "Takım Maili:",
  "@gmail.com",
],
  "rocket-org":  [
  "Yıldız Roket Takımı organizasyon yapısı dört ana departmandan oluşmaktadır:",  
  "• Aviyonik Departmanı (Yazılım, Donanım, Haberleşme, Kontrol)",
  "• İtki Departmanı (Yakıt, Mekanik, Akış, Malzeme)",
  "• Yapısal Departman (Aerodinamik, Kompozit, Kurtarma, Mekanik)",
  "• Organizasyon Departmanı (Proje Yönetimi, Kurumsal İletişim, Tasarım & Medya)",
  "Her departman tasarım, analiz, üretim ve test süreçlerini kendi sorumluluğunda yürütmektedir.",
], 
};
function Panel({node,panelW,onBack}){
  const g=GROUPS[node.group];
  const bigR=Math.min(80,node.r*1.3);
  const panelRef=useRef(null);
  const [hovMember,setHovMember]=useState(null);
  const [form,setForm]=useState({name:'',email:'',message:''});
  const [sent,setSent]=useState(false);
  const [sending,setSending]=useState(false);
  const [formErr,setFormErr]=useState('');
  const isContact=node.id==='gen-comm';

  const handleSend=()=>{
    if(!form.name||!form.email||!form.message){
      setFormErr('Please fill in all fields.');
      return;
    }
    setFormErr('');
    setSending(true);
    // Replace these three values with your EmailJS credentials:
    emailjs.send(
      'YOUR_SERVICE_ID',
      'YOUR_TEMPLATE_ID',
      { from_name:form.name, from_email:form.email, message:form.message },
      'YOUR_PUBLIC_KEY'
    )
    .then(()=>{
      setSending(false);
      setSent(true);
      setTimeout(()=>{ setSent(false); setForm({name:'',email:'',message:''}); },3500);
    })
    .catch(()=>{
      setSending(false);
      setFormErr('Failed to send. Please try again.');
    });
  };

  // Slide in
  useEffect(()=>{
    const el=panelRef.current;
    if(!el)return;
    el.style.transform='translateX(100%)';
    requestAnimationFrame(()=>{
      requestAnimationFrame(()=>{
        el.style.transform='translateX(0)';
      });
    });
  },[]);

  const handleBack=()=>{
    const el=panelRef.current;
    if(el){
      el.style.transform='translateX(100%)';
      setTimeout(onBack,480);
    } else onBack();
  };

  const isMember=isMemberBubble(node.id);
  const memberList=MEMBERS_DATA[node.id]||[];

  return React.createElement('div',{
    ref:panelRef,
    style:{
      position:'fixed',top:0,right:0,
      width:panelW,height:'100vh',
      background:'#fff',
      boxShadow:'-24px 0 80px rgba(0,0,0,0.14)',
      display:'flex',flexDirection:'column',
      zIndex:400,
      transition:'transform 0.52s cubic-bezier(0.22,1,0.36,1)',
      willChange:'transform',
    }
  },
    // Back btn
    React.createElement('button',{
      onClick:handleBack,
      style:{
        position:'absolute',top:26,left:24,
        background:'none',border:'none',cursor:'pointer',
        display:'flex',alignItems:'center',gap:8,
        fontFamily:"'DM Mono',monospace",
        fontSize:'0.58rem',letterSpacing:'0.2em',textTransform:'uppercase',
        color:C.navy,opacity:0.5,padding:0,
        transition:'opacity 0.2s',
        zIndex:10,
      },
      onMouseEnter:e=>e.currentTarget.style.opacity=1,
      onMouseLeave:e=>e.currentTarget.style.opacity=0.5,
    },
      React.createElement('svg',{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",width:14,height:14},
        React.createElement('path',{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})
      ),
      'Back'
    ),

    // Scrollable body
    React.createElement('div',{
      className:'ps',
      style:{flex:1,overflowY:'scroll',display:'flex',flexDirection:'column',
  alignItems:'center',padding:'80px 40px 60px',gap:0,
  scrollbarWidth:'thin',
  scrollbarColor:`#D4CEC9 transparent`,}
    },

      /* ① LARGE ICON at top */
      React.createElement('div',{
        style:{
          width:bigR*2,height:bigR*2,borderRadius:'50%',
          background:g.color,
          display:'flex',alignItems:'center',justifyContent:'center',
          boxShadow:`0 22px 60px -16px ${g.color}99`,
          flexShrink:0,
          animation:'heroIn 0.5s cubic-bezier(0.34,1.56,0.64,1) 0.06s both',
        }
      },
      node.fa
  ? React.createElement(FAIcon,{name:node.fa,size:Math.round(bigR*(node.panelIconScale||0.52)),color:g.text})
  : node.img
    ? React.createElement(ImgIcon,{src:node.img,size:Math.round(bigR*(node.panelIconScale||0.52))})
    : React.createElement(SVGIcon,{name:node.icon,size:Math.round(bigR*(node.panelIconScale||0.52)),color:g.text})
  ),
      /* ② TITLE block */
      React.createElement('div',{style:{width:'100%',marginTop:28,animation:'contentIn 0.5s ease 0.18s both'}},
        React.createElement('div',{style:{
          display:'inline-block',padding:'4px 10px',borderRadius:2,
          background:g.color,color:g.text,
          fontFamily:"'DM Mono',monospace",fontSize:'0.52rem',
          letterSpacing:'0.22em',textTransform:'uppercase',marginBottom:14,
        }},g.label),

        React.createElement('h1',{style:{
          fontFamily:"'DM Serif Display',serif",
          fontSize:'clamp(1.5rem,3vw,2.2rem)',
          color:C.navy,lineHeight:1.08,marginBottom:16,
        }},node.label),

        React.createElement('div',{style:{width:36,height:3,background:g.color,borderRadius:2,marginBottom:24}}),
      ),

      /* ③ IMAGE PLACEHOLDER */
      node.photo
  ? React.createElement('img',{
      src: node.photo,
      alt: node.label,
      style:{
        width:'100%',
        aspectRatio:'16/9',
        objectFit:'cover',
        borderRadius:6,
        flexShrink:0,
        animation:'contentIn 0.5s ease 0.26s both',
        display:'block',
      }
    })
  : React.createElement('div',{
      style:{
        width:'100%',
        aspectRatio:'16/9',
        background:'#F0EDEB',
        borderRadius:6,
        display:'flex',flexDirection:'column',
        alignItems:'center',justifyContent:'center',
        gap:10,
        flexShrink:0,
        animation:'contentIn 0.5s ease 0.26s both',
        border:'1.5px dashed #D4CEC9',
        overflow:'hidden',
        position:'relative',
      }
    },
      React.createElement('div',{style:{position:'absolute',top:10,left:10,width:18,height:18,borderTop:`2px solid ${g.color}`,borderLeft:`2px solid ${g.color}`}}),
      React.createElement('div',{style:{position:'absolute',top:10,right:10,width:18,height:18,borderTop:`2px solid ${g.color}`,borderRight:`2px solid ${g.color}`}}),
      React.createElement('div',{style:{position:'absolute',bottom:10,left:10,width:18,height:18,borderBottom:`2px solid ${g.color}`,borderLeft:`2px solid ${g.color}`}}),
      React.createElement('div',{style:{position:'absolute',bottom:10,right:10,width:18,height:18,borderBottom:`2px solid ${g.color}`,borderRight:`2px solid ${g.color}`}}),
      React.createElement('svg',{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"#C5BDB8",width:36,height:36},
        React.createElement('path',{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})
      ),
      React.createElement('span',{style:{fontFamily:"'DM Mono',monospace",fontSize:'0.55rem',letterSpacing:'0.18em',textTransform:'uppercase',color:'#B8B0AB'}},'Image Placeholder'),
    ),
      
      /* ④ TEXT CONTENT */
      React.createElement('div',{style:{width:'100%',marginTop:24,animation:'contentIn 0.5s ease 0.32s both'}},
      React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:12}},
  (Array.isArray(CONTENT[node.id])
    ? CONTENT[node.id]
    : [CONTENT[node.id] || `This section covers everything related to ${node.label}.`]
  ).map((para,i)=>
    React.createElement('p',{key:i,style:{
      fontFamily:"'DM Mono',monospace",fontSize:'0.76rem',
      lineHeight:1.9,color:C.navy,opacity:0.6,
    }},para)
  )
),
      ),

      /* ⑤ MEMBERS LIST — only for member bubbles */
      isMember && React.createElement('div',{
        style:{width:'100%',marginTop:28,animation:'contentIn 0.5s ease 0.38s both'}
      },
        React.createElement('p',{style:{
          fontFamily:"'DM Mono',monospace",fontSize:'0.52rem',
          letterSpacing:'0.22em',textTransform:'uppercase',
          color:C.navy,opacity:0.38,marginBottom:14,
          paddingBottom:8,borderBottom:'1px solid #EDE8E5',
        }},'Members'),

        memberList.length>0
          ? React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:0}},
              memberList.map((m,mi)=>
                React.createElement('a',{
                  key:mi,
                  href:m.url,
                  target:'_blank',
                  rel:'noopener noreferrer',
                  onMouseEnter:e=>{ setHovMember(mi); e.currentTarget.style.paddingLeft='14px'; e.currentTarget.style.color=g.color; },
                  onMouseLeave:e=>{ setHovMember(null); e.currentTarget.style.paddingLeft='0'; e.currentTarget.style.color=C.navy; },
                  style:{
                    display:'flex',alignItems:'center',gap:10,
                    padding:'11px 0',
                    borderBottom:'1px solid #F2EDEA',
                    fontFamily:"'DM Mono',monospace",
                    fontSize:'0.75rem',
                    letterSpacing:'0.04em',
                    color:C.navy,
                    textDecoration:'none',
                    transition:'padding-left 0.22s cubic-bezier(0.34,1.56,0.64,1), color 0.18s ease',
                  }
                },
                  // Small colored dot
                  React.createElement('div',{style:{
                    width:6,height:6,borderRadius:'50%',
                    background:hovMember===mi?g.color:'#D4CEC9',
                    flexShrink:0,
                    transition:'background 0.18s ease',
                  }}),
                  m.name,
                  // Arrow icon on hover
                  React.createElement('svg',{
                    xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",
                    strokeWidth:1.5,stroke:"currentColor",
                    width:12,height:12,
                    style:{marginLeft:'auto',opacity:hovMember===mi?0.6:0,transition:'opacity 0.18s ease'}
                  },
                    React.createElement('path',{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})
                  )
                )
              )
            )
          : React.createElement('p',{style:{
              fontFamily:"'DM Mono',monospace",fontSize:'0.7rem',
              color:C.navy,opacity:0.4,fontStyle:'italic',
            }},'No members data available.'),
      ),

      /* ⑥ CONTACT FORM — only for gen-comm */
      isContact && React.createElement('div',{
        style:{width:'100%',marginTop:28,animation:'contentIn 0.5s ease 0.44s both'}
      },
        // Section label
        React.createElement('p',{style:{
          fontFamily:"'DM Mono',monospace",fontSize:'0.52rem',
          letterSpacing:'0.22em',textTransform:'uppercase',
          color:C.navy,opacity:0.38,marginBottom:14,
          paddingBottom:8,borderBottom:'1px solid #EDE8E5',
        }},'Send a Message'),

        sent
          // ── Success state ──
          ? React.createElement('div',{style:{
              padding:'18px 20px',borderRadius:6,
              background:'#F0F7F4',
              border:`1.5px solid ${g.color}`,
              display:'flex',alignItems:'center',gap:12,
              fontFamily:"'DM Mono',monospace",fontSize:'0.72rem',
              color:C.navy,
            }},
              React.createElement('svg',{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:g.color,width:18,height:18,style:{flexShrink:0}},
                React.createElement('path',{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})
              ),
              'Message sent successfully!'
            )
          // ── Form ──
          : React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:12}},

              // Name
              React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:5}},
                React.createElement('label',{style:{fontFamily:"'DM Mono',monospace",fontSize:'0.5rem',letterSpacing:'0.16em',textTransform:'uppercase',color:C.navy,opacity:0.45}},'Full Name'),
                React.createElement('input',{
                  type:'text',value:form.name,placeholder:'Your name',
                  onChange:e=>setForm(f=>({...f,name:e.target.value})),
                  style:{padding:'10px 14px',border:'1.5px solid #E5E0DD',borderRadius:4,fontFamily:"'DM Mono',monospace",fontSize:'0.75rem',color:C.navy,outline:'none',background:'#FAFAF9',transition:'border-color 0.2s',},
                  onFocus:e=>e.target.style.borderColor=g.color,
                  onBlur:e=>e.target.style.borderColor='#E5E0DD',
                })
              ),

              // Email
              React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:5}},
                React.createElement('label',{style:{fontFamily:"'DM Mono',monospace",fontSize:'0.5rem',letterSpacing:'0.16em',textTransform:'uppercase',color:C.navy,opacity:0.45}},'Email'),
                React.createElement('input',{
                  type:'email',value:form.email,placeholder:'your@email.com',
                  onChange:e=>setForm(f=>({...f,email:e.target.value})),
                  style:{padding:'10px 14px',border:'1.5px solid #E5E0DD',borderRadius:4,fontFamily:"'DM Mono',monospace",fontSize:'0.75rem',color:C.navy,outline:'none',background:'#FAFAF9',transition:'border-color 0.2s',},
                  onFocus:e=>e.target.style.borderColor=g.color,
                  onBlur:e=>e.target.style.borderColor='#E5E0DD',
                })
              ),

              // Message
              React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:5}},
                React.createElement('label',{style:{fontFamily:"'DM Mono',monospace",fontSize:'0.5rem',letterSpacing:'0.16em',textTransform:'uppercase',color:C.navy,opacity:0.45}},'Message'),
                React.createElement('textarea',{
                  value:form.message,placeholder:'Write your message here...',rows:5,
                  onChange:e=>setForm(f=>({...f,message:e.target.value})),
                  style:{padding:'10px 14px',border:'1.5px solid #E5E0DD',borderRadius:4,fontFamily:"'DM Mono',monospace",fontSize:'0.75rem',color:C.navy,outline:'none',background:'#FAFAF9',resize:'vertical',transition:'border-color 0.2s',},
                  onFocus:e=>e.target.style.borderColor=g.color,
                  onBlur:e=>e.target.style.borderColor='#E5E0DD',
                })
              ),

              // Error message
              formErr && React.createElement('p',{style:{fontFamily:"'DM Mono',monospace",fontSize:'0.65rem',color:'#BF512C',margin:0}},formErr),

              // Send button
              React.createElement('button',{
                onClick:handleSend,
                disabled:sending,
                style:{
                  marginTop:4,padding:'12px 24px',
                  background:sending?'#ccc':g.color,
                  color:g.text,border:'none',borderRadius:4,cursor:sending?'not-allowed':'pointer',
                  fontFamily:"'DM Mono',monospace",fontSize:'0.6rem',
                  letterSpacing:'0.18em',textTransform:'uppercase',
                  alignSelf:'flex-start',
                  transition:'transform 0.2s, box-shadow 0.2s, background 0.2s',
                },
                onMouseEnter:e=>{ if(!sending){ e.currentTarget.style.transform='scale(1.04)'; e.currentTarget.style.boxShadow=`0 8px 24px -6px ${g.color}99`; }},
                onMouseLeave:e=>{ e.currentTarget.style.transform='scale(1)'; e.currentTarget.style.boxShadow='none'; },
              }, sending ? 'Sending...' : 'Send Message →')
            )
      )
    )
  );
}

/* ══════════════════════════════════════════════════════════
   ZOOM CONTROL
══════════════════════════════════════════════════════════ */
function ZoomControl({zoom,setZoom,hidden}){
  const dragRef=useRef({on:false,startY:0,startZ:1});

  const onDown=useCallback((e)=>{
    e.preventDefault();
    dragRef.current={on:true,startY:e.clientY,startZ:zoom};
    const mv=ev=>{
      if(!dragRef.current.on)return;
      const dy=dragRef.current.startY-ev.clientY;
      setZoom(z=>Math.max(0.5,Math.min(2.5,dragRef.current.startZ+dy/200)));
    };
    const up=()=>{ dragRef.current.on=false; window.removeEventListener('pointermove',mv); };
    window.addEventListener('pointermove',mv);
    window.addEventListener('pointerup',up,{once:true});
  },[zoom,setZoom]);

  const pct=((zoom-0.5)/(2.5-0.5))*100;

  return React.createElement('div',{style:{
    position:'fixed',bottom:36,right:44,zIndex:150,
    display:'flex',flexDirection:'column',alignItems:'center',gap:8,
    opacity:hidden?0:1,
    pointerEvents:hidden?'none':'auto',
    transition:'opacity 0.3s ease',
    userSelect:'none',
  }},
    React.createElement('span',{style:{fontFamily:"'DM Mono'",fontSize:'0.48rem',letterSpacing:'0.2em',textTransform:'uppercase',color:C.navy,opacity:0.38}},'zoom'),
    React.createElement('div',{
      onPointerDown:onDown,
      style:{width:3,height:84,background:'#E8E3E0',borderRadius:2,position:'relative',cursor:'ns-resize'}
    },
      React.createElement('div',{style:{
        position:'absolute',left:'50%',
        transform:'translateX(-50%)',
        bottom:`${pct}%`,
        width:13,height:13,borderRadius:'50%',
        background:C.navy,pointerEvents:'none',
        transition:'bottom 0.08s',
      }})
    ),
    React.createElement('div',{style:{display:'flex',flexDirection:'column',alignItems:'center',gap:0}},
      React.createElement('button',{onClick:()=>setZoom(z=>Math.min(2.5,+(z+0.1).toFixed(2))),
        style:{background:'none',border:'none',cursor:'pointer',color:C.navy,opacity:0.4,fontSize:17,lineHeight:1,padding:'3px 6px',fontFamily:"'DM Mono'",transition:'opacity 0.2s'},
        onMouseEnter:e=>e.currentTarget.style.opacity=1,
        onMouseLeave:e=>e.currentTarget.style.opacity=0.4,
      },'+'),
      React.createElement('button',{onClick:()=>setZoom(z=>Math.max(0.5,+(z-0.1).toFixed(2))),
        style:{background:'none',border:'none',cursor:'pointer',color:C.navy,opacity:0.4,fontSize:17,lineHeight:1,padding:'3px 6px',fontFamily:"'DM Mono'",transition:'opacity 0.2s'},
        onMouseEnter:e=>e.currentTarget.style.opacity=1,
        onMouseLeave:e=>e.currentTarget.style.opacity=0.4,
      },'−')
    )
  );
}

/* ══════════════════════════════════════════════════════════
   APP ROOT
══════════════════════════════════════════════════════════ */
// Fixed large canvas — circles always simulate and spread on this space
const SIM_W=1800;
const SIM_H=2000;

function App(){
  const [wh,setWh]=useState({w:window.innerWidth,h:window.innerHeight});
  const [nodes,setNodes]=useState([]);
  const [selected,setSelected]=useState(null);
  const [hovered,setHovered]=useState(null);
  const touchRef=useRef({});

  // Auto-fit: start zoomed so ALL circles are visible on any screen
  const initZoom=()=>{
  const isMobile=window.innerWidth<768;
  if(isMobile) return Math.min(window.innerWidth/SIM_W,window.innerHeight/SIM_H)*2;
  return 1.5;
};
const [zoom,setZoom]=useState(initZoom);
  const [pan,setPan]=useState({x:0,y:0});
  const [panelKey,setPanelKey]=useState(0);
  const hasSel=!!selected;

  useEffect(()=>{
    const fn=()=>{ setWh({w:window.innerWidth,h:window.innerHeight}); setSelected(null); };
    window.addEventListener('resize',fn);
    return()=>window.removeEventListener('resize',fn);
  },[]);

  // Always simulate on the large fixed canvas
  useEffect(()=>{
    const ns=runSim(RAW.map(n=>({...n})),SIM_W,SIM_H);
    setNodes(ns);
  },[]);

  // Desktop: mouse wheel zoom
  useEffect(()=>{
    const fn=e=>{ e.preventDefault(); setZoom(z=>Math.max(0.2,Math.min(2.5,z-e.deltaY/550))); };
    window.addEventListener('wheel',fn,{passive:false});
    return()=>window.removeEventListener('wheel',fn);
  },[]);

  // Mobile: pinch-to-zoom + one-finger pan
  useEffect(()=>{
    const el=document.getElementById('hub-stage');
    if(!el)return;
    const onTS=e=>{
      if(e.touches.length===2){
        touchRef.current={mode:'pinch',
          d0:Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),
          z0:zoom};
      } else if(e.touches.length===1&&!hasSel){
        touchRef.current={mode:'pan',
          x0:e.touches[0].clientX,y0:e.touches[0].clientY,px0:pan.x,py0:pan.y};
      }
    };
    const onTM=e=>{
      e.preventDefault();
      const t=touchRef.current;
      if(t.mode==='pinch'&&e.touches.length===2){
        const d=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);
        setZoom(Math.max(0.2,Math.min(2.5,t.z0*(d/t.d0))));
      } else if(t.mode==='pan'&&e.touches.length===1){
        setPan({x:t.px0+(e.touches[0].clientX-t.x0),y:t.py0+(e.touches[0].clientY-t.y0)});
      }
    };
    const onTE=()=>{ touchRef.current={}; };
    el.addEventListener('touchstart',onTS,{passive:false});
    el.addEventListener('touchmove',onTM,{passive:false});
    el.addEventListener('touchend',onTE);
    return()=>{
      el.removeEventListener('touchstart',onTS);
      el.removeEventListener('touchmove',onTM);
      el.removeEventListener('touchend',onTE);
    };
  },[zoom,pan,hasSel]);

  const handleSelect=useCallback((node)=>{ setSelected(node); setPanelKey(k=>k+1); },[]);
  const handleBack=useCallback(()=>{ setSelected(null); },[]);

  const panelW=Math.min(490,wh.w*0.95);
  const stageShift=hasSel?-panelW*0.3:0;

  return React.createElement('div',{style:{
    position:'fixed',inset:0,background:C.bg,overflow:'hidden',touchAction:'none',
  }},
    /* ── Zoomable + pannable stage ── */
    React.createElement('div',{
      id:'hub-stage',
      style:{
        position:'absolute',
        width:SIM_W,height:SIM_H,
        left:`calc(50% - ${SIM_W/2}px)`,
        top:`calc(50% - ${SIM_H/2}px)`,
        transform:`scale(${zoom}) translate(${(pan.x+stageShift)/zoom}px,${pan.y/zoom}px)`,
        transformOrigin:'center center',
        transition:hasSel?'transform 0.5s cubic-bezier(0.22,1,0.36,1)':'',
        willChange:'transform',
      }
    },
      nodes.map((n,i)=>React.createElement(NodeCircle,{
        key:n.id,node:n,g:GROUPS[n.group],idx:i,
        selected,hovered,setHovered,setSelected:handleSelect,
      }))
    ),

    /* ── Header ── */
    React.createElement('div',{style:{
      position:'fixed',top:0,left:0,right:0,zIndex:200,
      display:'flex',alignItems:'center',justifyContent:'space-between',
      padding:'16px 24px',
      opacity:hasSel?0:1,
      transform:hasSel?'translateY(-14px)':'translateY(0)',
      transition:'all 0.35s ease',
      pointerEvents:hasSel?'none':'auto',
    }},
      React.createElement('img',{src:'Maktek_logo.png',alt:'Maktek',style:{height:48,width:'auto',objectFit:'contain',display:'block'}}),
      React.createElement('span',{style:{fontFamily:"'DM Mono',monospace",fontSize:'0.57rem',letterSpacing:'0.22em',textTransform:'uppercase',color:C.navy,opacity:0.38}},
        `${RAW.length} Topics`)
    ),

    /* ── Legend ── */
    React.createElement('div',{style:{
      position:'fixed',bottom:20,left:20,zIndex:150,
      display:'flex',flexDirection:'column',gap:5,
      opacity:hasSel?0:1,transition:'opacity 0.3s ease',pointerEvents:'none',
    }},
      Object.entries(GROUPS).map(([k,g])=>
        React.createElement('div',{key:k,style:{display:'flex',alignItems:'center',gap:8}},
          React.createElement('div',{style:{width:7,height:7,borderRadius:'50%',background:g.color,
            border:k==='general'?`1.5px solid ${C.navy}`:'none',flexShrink:0}}),
          React.createElement('span',{style:{fontFamily:"'DM Mono',monospace",fontSize:'0.48rem',
            letterSpacing:'0.16em',textTransform:'uppercase',color:C.navy,opacity:0.48}},g.label)
        )
      )
    ),

    /* ── Zoom Control ── */
    React.createElement(ZoomControl,{zoom,setZoom,hidden:hasSel}),

    /* ── Tooltip ── */
    hovered&&!hasSel&&React.createElement(Tooltip,{node:hovered,nodes,zoom,shiftX:pan.x+stageShift}),

    /* ── Panel ── */
    hasSel&&React.createElement(Panel,{key:panelKey,node:selected,panelW,onBack:handleBack})
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
</script>
</body>
</html>